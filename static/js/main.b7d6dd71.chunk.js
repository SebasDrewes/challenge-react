(this["webpackJsonpchallange-react"]=this["webpackJsonpchallange-react"]||[]).push([[0],{65:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),c=a(36),n=a.n(c),l=(a(44),a(12)),i=a.n(l),o=a(17),d=a(9),j=a(18),b=a.n(j),m=a(2),h=a(14),u=(a(65),a(0)),p=function(){var e=Object(s.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(!1),n=Object(d.a)(c,2),l=n[0],j=n[1],p=localStorage.getItem("token");if(Object(s.useEffect)((function(){return function(){r(!1)}})),p)return Object(u.jsx)(m.a,{to:"/"});var O=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("http://challenge-react.alkemy.org/",t);case 3:a=e.sent,s=a.data.token,localStorage.setItem("token",s),j(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r(!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t;return e?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(t="Email invalido"):t="Requerido",t},g=function(e){var t;return e||(t="Requerido"),t};return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{id:"form",children:[Object(u.jsx)("h1",{className:"title",children:"SuperHero App"}),Object(u.jsx)(h.c,{initialValues:{email:"",password:""},onSubmit:function(e){O(e)},children:function(e){var t=e.errors,a=e.touched;return Object(u.jsxs)(h.b,{children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(u.jsx)(h.a,{name:"email",type:"email",className:"form-control",validate:x}),t.email&&a.email?Object(u.jsx)("div",{children:t.email}):null]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(u.jsx)(h.a,{name:"password",type:"password",className:"form-control",validate:g}),t.password&&a.password?Object(u.jsx)("div",{children:t.password}):null]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-dark",children:"Enviar"})]})}})]}),a&&Object(u.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:["Email o contrase\xf1a incorrectos.",Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:function(){return r(!1)}})]}),l&&Object(u.jsx)(m.a,{to:"/"})]})},O=a(7),x=(a(70),function(){return Object(u.jsx)("nav",{className:"navbar",children:Object(u.jsxs)("div",{className:"container-fluid nav",children:[Object(u.jsx)(O.b,{to:"/",children:Object(u.jsx)("h1",{id:"title",children:"SuperHero App"})}),Object(u.jsx)(O.b,{to:"/login",children:Object(u.jsx)("button",{className:"btn btn-dark salir",onClick:function(){localStorage.removeItem("token")},children:"Cerrar sesi\xf3n"})})]})})}),g=function(e){var t=e.heroes,a=e.addHero;return Object(u.jsx)("div",{className:"searchResults",children:t&&t.length?t.map((function(e){return Object(u.jsxs)("div",{className:"teamMember",children:[Object(u.jsx)("div",{className:"heroNameContainer",children:Object(u.jsx)("h1",{className:"heroName",children:e.name})}),Object(u.jsx)("img",{src:e.image.url,alt:e.name,draggable:!1,className:"teamMemberImg"}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(O.b,{to:"/".concat(e.id),children:Object(u.jsx)("button",{className:"btn btn-dark btnTeam",children:"Detalles"})}),Object(u.jsx)("button",{className:"btn btn-dark btnTeam",onClick:function(){return a(e)},children:"Agregar"})]})]},"team".concat(e.id))})):null})},v=function(e,t){return!e.some((function(e){return e.id===t.id}))},f=function(e,t){var a=t.biography.alignment;return"neutral"!==a&&!(e.filter((function(e){return e.biography.alignment===a})).length>=3)},N=(a(71),function(){var e=Object(s.useState)(JSON.parse(sessionStorage.getItem("recentSearch"))),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(!1),n=Object(d.a)(c,2),l=n[0],j=n[1],p=Object(s.useState)(""),O=Object(d.a)(p,2),N=O[0],w=O[1],k=JSON.parse(localStorage.getItem("team"));if(k&&6===k.length)return Object(u.jsx)(m.a,{to:"/"});if(!localStorage.getItem("token"))return Object(u.jsx)(m.a,{to:"/login"});var S=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,b.a.get("https://www.superheroapi.com/api.php/4333347540058740/search/".concat(t));case 3:(a=e.sent).data.results?(s=a.data.results,r(s),sessionStorage.setItem("recentSearch",JSON.stringify(s)),w("")):w("No encontrado");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsx)(h.c,{initialValues:{search:""},onSubmit:function(e){S(e.search)},children:Object(u.jsxs)(h.b,{className:"row g-3 align-items-center searchContainer",children:[Object(u.jsx)("div",{className:"col-auto",children:Object(u.jsx)("label",{htmlFor:"search",className:"form-label addSuperHero",children:"Agregar SuperHero"})}),Object(u.jsx)("div",{className:"col-auto",children:Object(u.jsx)(h.a,{name:"search",type:"text",className:"form-control"})}),Object(u.jsx)("div",{className:"col-auto",children:Object(u.jsx)("button",{type:"submit",className:"btn btn-dark",children:"Buscar"})})]})}),Object(u.jsx)(g,{heroes:a,addHero:function(e){var t;N&&w(""),t=null===localStorage.getItem("team")?[]:JSON.parse(localStorage.getItem("team")),f(t,e)||w("No pod\xe9s elegir m\xe1s de tres h\xe9roes de la misma alineaci\xf3n."),v(t,e)||w("No pod\xe9s elegir el mismo h\xe9roe m\xe1s de una vez."),v(t,e)&&f(t,e)?(j(!0),t.push(e),localStorage.setItem("team",JSON.stringify(t))):j(!1)}}),N&&Object(u.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show alertSearch",onClick:function(){return w(!1)},role:"alert",children:[N,Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:function(){return w("")}})]}),l&&Object(u.jsxs)("div",{className:"alert alert-success alert-dismissible fade show alertSearch",onClick:function(){return j(!1)},role:"alert",children:["Agregado al equipo.",Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:function(){return j(!1)}})]})]})}),w=(a(72),function(e){var t,a=e.team,s=Array(8).fill(0),r=Object(d.a)(s,8),c=r[0],n=r[1],l=r[2],i=r[3],o=r[4],j=r[5],b=r[6],m=r[7];switch(a.forEach((function(e){c+=parseInt(e.appearance.weight[1]),n+=parseInt(e.appearance.height[1]),l+=parseInt(e.powerstats.combat),i+=parseInt(e.powerstats.durability),o+=parseInt(e.powerstats.intelligence),j+=parseInt(e.powerstats.power),b+=parseInt(e.powerstats.speed),m+=parseInt(e.powerstats.strength)})),Math.max(l,i,o,j,b,m)){case l:t="Combate";break;case i:t="Durabilidad";break;case o:t="Inteligencia";break;case j:t="Poder";break;case b:t="Velocidad";break;case m:t="Fuerza";break;default:t="Desconocido"}return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-dark dropdown-toggle statsBtn","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Estadisticas"}),Object(u.jsxs)("div",{className:"dropdown-menu statsDropdown",children:[Object(u.jsx)("div",{className:"clearfix",children:Object(u.jsxs)("p",{className:"col teamType",children:[Object(u.jsx)("strong",{children:"Tipo de Equipo: "}),t]})}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("p",{className:"col",children:[Object(u.jsx)("strong",{children:"Peso promedio: "}),"".concat(Math.round(c/a.length)," kg")]}),Object(u.jsxs)("p",{className:"col",children:[Object(u.jsx)("strong",{children:"Altura promedio: "}),"".concat(Math.round(n/a.length)," cm")]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("p",{className:"col",children:[Object(u.jsx)("strong",{children:"Combate: "}),l]}),Object(u.jsxs)("p",{className:"col",children:[Object(u.jsx)("strong",{children:"Durabilidad: "}),i]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("p",{className:"col",children:[Object(u.jsx)("strong",{children:"Inteligencia: "}),o]}),Object(u.jsxs)("p",{className:"col",children:[Object(u.jsx)("strong",{children:"Poder: "}),j]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("p",{className:"col",children:[Object(u.jsx)("strong",{children:"Velocidad: "}),b]}),Object(u.jsxs)("p",{className:"col",children:[Object(u.jsx)("strong",{children:"Fuerza: "}),m]})]})]})]})}),k=(a(73),function(e){var t=e.hero;return Object(u.jsxs)("ul",{className:"dropdown-menu powerStatDropdown",children:[Object(u.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.combat,"%")},"aria-valuenow":t.powerstats.combat,"aria-valuemin":"0","aria-valuemax":"100",children:Object(u.jsxs)("li",{className:"powerstat",children:[Object(u.jsx)("strong",{children:"Combate: "}),t.powerstats.combat]})}),Object(u.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.durability,"%")},"aria-valuenow":t.powerstats.durability,"aria-valuemin":"0","aria-valuemax":"100",children:Object(u.jsxs)("li",{className:"powerstat",children:[Object(u.jsx)("strong",{children:"Durabilidad: "}),t.powerstats.durability]})}),Object(u.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.intelligence,"%")},"aria-valuenow":t.powerstats.intelligence,"aria-valuemin":"0","aria-valuemax":"100",children:Object(u.jsxs)("li",{className:"powerstat",children:[Object(u.jsx)("strong",{children:"Inteligencia: "}),t.powerstats.intelligence]})}),Object(u.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.power,"%")},"aria-valuenow":t.powerstats.power,"aria-valuemin":"0","aria-valuemax":"100",children:Object(u.jsxs)("li",{className:"powerstat",children:[Object(u.jsx)("strong",{children:"Poder: "}),t.powerstats.power]})}),Object(u.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.speed,"%")},"aria-valuenow":t.powerstats.speed,"aria-valuemin":"0","aria-valuemax":"100",children:Object(u.jsxs)("li",{className:"powerstat",children:[Object(u.jsx)("strong",{children:"Velocidad: "}),t.powerstats.speed]})}),Object(u.jsx)("div",{className:"progress-bar ",role:"progressbar",style:{width:"".concat(t.powerstats.strength,"%")},"aria-valuenow":t.powerstats.strength,"aria-valuemin":"0","aria-valuemax":"100",children:Object(u.jsxs)("li",{className:"powerstat",children:[Object(u.jsx)("strong",{children:"Fuerza: "}),t.powerstats.strength]})})]})}),S=(a(74),function(e){var t=e.team,a=e.setTeam;return Object(u.jsx)("div",{id:"team",children:t&&t.length?t.map((function(e){return Object(u.jsxs)("div",{className:"teamMember",children:[Object(u.jsx)("div",{className:"heroNameContainer",children:Object(u.jsx)("h1",{className:"heroName",children:e.name})}),Object(u.jsx)("img",{src:e.image.url,alt:e.name,draggable:!1,className:"teamMemberImg"}),Object(u.jsxs)("div",{className:"buttons btn-group dropdown dropup",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-dark dropdown-toggle btnTeam","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Powerstats"}),Object(u.jsx)(k,{hero:e}),Object(u.jsx)(O.b,{to:"/".concat(e.id),children:Object(u.jsx)("button",{className:"btn btn-dark btnTeam",children:"Detalles"})}),Object(u.jsx)("button",{className:"btn btn-dark btnTeam",onClick:function(){return function(e){var s=t.filter((function(t){return t.id!==e}));a(s),localStorage.setItem("team",JSON.stringify(s))}(e.id)},children:"Eliminar"})]})]},"team".concat(e.id))})):Object(u.jsx)("h1",{id:"noTeam",children:"Agrega h\xe9roes a tu equipo!"})})}),y=(a(75),function(){var e=localStorage.getItem("token"),t=Object(s.useState)(JSON.parse(localStorage.getItem("team"))),a=Object(d.a)(t,2),r=a[0],c=a[1];return sessionStorage.removeItem("recentSearch"),e?Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{id:"home",children:[Object(u.jsxs)("div",{id:"header",children:[Object(u.jsxs)("div",{id:"titleContainer",children:[Object(u.jsx)("h1",{id:"teamTitle",children:"Tu equipo"}),r&&r.length>0?Object(u.jsx)(w,{team:r}):null]}),null===r||r&&6!==r.length?Object(u.jsx)(O.b,{to:"/search",children:Object(u.jsx)("button",{className:"btn addHero",children:"Agregar Hero"})}):null]}),Object(u.jsx)(S,{team:r,setTeam:c})]})]}):Object(u.jsx)(m.a,{to:"/login"})}),I=(a(76),function(e){var t=e.match,a=Object(m.g)(),r=localStorage.getItem("token"),c=Object(s.useState)([]),n=Object(d.a)(c,2),l=n[0],j=n[1];Object(s.useEffect)((function(){h()}),[]);var h=function(){var e=Object(o.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://www.superheroapi.com/api.php/4333347540058740/".concat(t.params.id));case 2:a=e.sent,j(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r?Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{}),"success"===l.response?Object(u.jsxs)("div",{id:"detailsCard",children:[Object(u.jsx)("img",{src:l.image.url,alt:l.name,id:"detailsImg",draggable:!1}),Object(u.jsxs)("div",{id:"details",children:[Object(u.jsx)("h1",{id:"heroTitle",children:l.name}),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{className:"info",children:[Object(u.jsx)("strong",{children:"Peso:"})," ",l.appearance.weight[1]]}),Object(u.jsxs)("p",{className:"info",children:[Object(u.jsx)("strong",{children:"Altura:"})," ",l.appearance.height[1]]}),Object(u.jsxs)("p",{className:"info",children:[Object(u.jsx)("strong",{children:"Nombre completo:"})," ",l.biography["full-name"]]}),Object(u.jsxs)("p",{className:"info",children:[Object(u.jsx)("strong",{children:"Alias:"})," ",l.biography.aliases.join(", ")]}),Object(u.jsxs)("p",{className:"info",children:[Object(u.jsx)("strong",{children:"Color de ojos:"})," ",l.appearance["eye-color"]]}),Object(u.jsxs)("p",{className:"info",children:[Object(u.jsx)("strong",{children:"Color de pelo:"})," ",l.appearance["hair-color"]]}),Object(u.jsxs)("p",{className:"info",children:[Object(u.jsx)("strong",{children:"Lugar de trabajo:"})," ",l.work.base]})]})]},"details".concat(l.id)):Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsx)("div",{className:"spinner-border",role:"status",children:Object(u.jsx)("span",{className:"sr-only"})})}),Object(u.jsx)("button",{className:"btn btn-dark back",onClick:function(){return a.goBack()},children:"Regresar"})]}):Object(u.jsx)(m.a,{to:"/login"})});a(77);var C=function(){return Object(u.jsx)("div",{className:"app",children:Object(u.jsx)(O.a,{children:Object(u.jsxs)(m.d,{children:[Object(u.jsx)(m.b,{exact:!0,path:"/login",component:p}),Object(u.jsx)(m.b,{exact:!0,path:"/",component:y}),Object(u.jsx)(m.b,{exact:!0,path:"/search",component:N}),Object(u.jsx)(m.b,{path:"/search/:id",component:I}),Object(u.jsx)(m.b,{path:"/:id",component:I})]})})})};n.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.b7d6dd71.chunk.js.map