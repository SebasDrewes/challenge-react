(this["webpackJsonpchallange-react"]=this["webpackJsonpchallange-react"]||[]).push([[0],{65:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),c=a(36),n=a.n(c),l=(a(44),a(12)),i=a.n(l),o=a(17),d=a(5),j=a(18),b=a.n(j),m=a(2),u=a(14),h=(a(65),a(0)),p=function(){var e=Object(s.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(!1),n=Object(d.a)(c,2),l=n[0],j=n[1],p=localStorage.getItem("token");if(Object(s.useEffect)((function(){return function(){j(!1)}})),p)return Object(h.jsx)(m.a,{to:"/challenge-react"});var O=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("http://challenge-react.alkemy.org/",t);case 3:a=e.sent,s=a.data.token,localStorage.setItem("token",s),j(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r(!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t;return e?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(t="Email invalido"):t="Requerido",t},g=function(e){var t;return e||(t="Requerido"),t};return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{id:"form",children:[Object(h.jsx)("h1",{className:"title",children:"SuperHero App"}),Object(h.jsx)(u.c,{initialValues:{email:"",password:""},onSubmit:function(e){O(e)},children:function(e){var t=e.errors,a=e.touched;return Object(h.jsxs)(u.b,{children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(h.jsx)(u.a,{name:"email",type:"email",className:"form-control",id:"email",validate:x}),t.email&&a.email?Object(h.jsx)("div",{children:t.email}):null]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(h.jsx)(u.a,{name:"password",type:"password",className:"form-control",id:"password",validate:g}),t.password&&a.password?Object(h.jsx)("div",{children:t.password}):null]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-dark",children:"Enviar"})]})}})]}),a&&Object(h.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:["Email o contrase\xf1a incorrectos.",Object(h.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:function(){return r(!1)}})]}),l&&Object(h.jsx)(m.a,{to:"/challenge-react"}),Object(h.jsx)("button",{className:"btn btn-dark loginAsGuest",onClick:function(){return localStorage.setItem("token","guest"),void j(!0)},children:"Ingresar como invitado"})]})},O=a(8),x=(a(70),function(){return Object(h.jsx)("nav",{className:"navbar",children:Object(h.jsxs)("div",{className:"container-fluid nav",children:[Object(h.jsx)(O.b,{to:"/challenge-react",children:Object(h.jsx)("h1",{id:"title",children:"SuperHero App"})}),Object(h.jsx)(O.b,{to:"/login",children:Object(h.jsx)("button",{className:"btn btn-dark salir",onClick:function(){localStorage.removeItem("token")},children:"Cerrar sesi\xf3n"})})]})})}),g=function(e){var t=e.heroes,a=e.addHero,s=e.setIsLoading;return Object(h.jsx)("div",{className:"searchResults",children:t&&t.length?t.map((function(e){return Object(h.jsxs)("div",{className:"teamMember",children:[Object(h.jsx)("div",{className:"heroNameContainer",children:Object(h.jsx)("h1",{className:"heroName",children:e.name})}),Object(h.jsx)("img",{src:e.image.url,alt:e.name,draggable:!1,onLoad:function(){return s(!1)},className:"teamMemberImg"}),Object(h.jsxs)("div",{className:"buttons",children:[Object(h.jsx)(O.b,{to:"/search/".concat(e.id),children:Object(h.jsx)("button",{className:"btn btn-dark btnTeam",children:"Detalles"})}),Object(h.jsx)("button",{className:"btn btn-dark btnTeam",onClick:function(){return a(e)},children:"Agregar"})]})]},"team".concat(e.id))})):null})},f=function(e,t){return!e.some((function(e){return e.id===t.id}))},v=function(e,t){var a=t.biography.alignment;return"neutral"!==a&&!(e.filter((function(e){return e.biography.alignment===a})).length>=3)},N=(a(71),function(){var e=Object(m.g)(),t=Object(s.useState)(JSON.parse(sessionStorage.getItem("recentSearch"))),a=Object(d.a)(t,2),r=a[0],c=a[1],n=Object(s.useState)(!1),l=Object(d.a)(n,2),j=l[0],p=l[1],O=Object(s.useState)(""),N=Object(d.a)(O,2),w=N[0],k=N[1],S=Object(s.useState)(!1),y=Object(d.a)(S,2),I=y[0],C=y[1],A=JSON.parse(localStorage.getItem("team"));if(A&&6===A.length)return Object(h.jsx)(m.a,{to:"/challenge-react"});if(!localStorage.getItem("token"))return Object(h.jsx)(m.a,{to:"/login"});var T=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return C(!0),e.next=4,b.a.get("https://www.superheroapi.com/api.php/4333347540058740/search/".concat(t));case 4:(a=e.sent).data.results?(s=a.data.results,c(s),sessionStorage.setItem("recentSearch",JSON.stringify(s)),k("")):(C(!1),k("No encontrado"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[Object(h.jsx)(x,{}),Object(h.jsx)("button",{className:"btn btn-dark backToTeam",onClick:function(){return e.goBack()},children:"Volver a equipo"}),Object(h.jsx)(u.c,{initialValues:{search:""},onSubmit:function(e){T(e.search)},children:Object(h.jsxs)(u.b,{className:"row g-3 align-items-center searchContainer",children:[Object(h.jsx)("div",{className:"col-auto",children:Object(h.jsx)("label",{htmlFor:"search",className:"form-label addSuperHero",children:"Agregar SuperHero"})}),Object(h.jsx)("div",{className:"col-auto",children:Object(h.jsx)(u.a,{name:"search",type:"text",className:"form-control"})}),Object(h.jsx)("div",{className:"col-auto",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-dark",children:"Buscar"})})]})}),Object(h.jsx)(g,{heroes:r,addHero:function(e){var t;w&&k(""),t=null===localStorage.getItem("team")?[]:JSON.parse(localStorage.getItem("team")),v(t,e)||k("No pod\xe9s elegir m\xe1s de tres h\xe9roes de la misma alineaci\xf3n."),f(t,e)||k("No pod\xe9s elegir el mismo h\xe9roe m\xe1s de una vez."),f(t,e)&&v(t,e)?(p(!0),t.push(e),localStorage.setItem("team",JSON.stringify(t))):p(!1)},setIsLoading:C}),I&&Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsx)("div",{className:"spinner-border",role:"status",children:Object(h.jsx)("span",{className:"sr-only"})})}),w&&Object(h.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show alertSearch",onClick:function(){return k(!1)},role:"alert",children:[w,Object(h.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:function(){return k("")}})]}),j&&Object(h.jsxs)("div",{className:"alert alert-success alert-dismissible fade show alertSearch",onClick:function(){return p(!1)},role:"alert",children:["Agregado al equipo.",Object(h.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:function(){return p(!1)}})]})]})}),w=(a(72),function(e){var t,a=e.team,s=Array(8).fill(0),r=Object(d.a)(s,8),c=r[0],n=r[1],l=r[2],i=r[3],o=r[4],j=r[5],b=r[6],m=r[7],u=function(e){return isNaN(e)?0:e};switch(a.forEach((function(e){c+=u(parseInt(e.appearance.weight[1])),n+=u(parseInt(e.appearance.height[1])),l+=u(parseInt(e.powerstats.combat)),i+=u(parseInt(e.powerstats.durability)),o+=u(parseInt(e.powerstats.intelligence)),j+=u(parseInt(e.powerstats.power)),b+=u(parseInt(e.powerstats.speed)),m+=u(parseInt(e.powerstats.strength))})),Math.max(l,i,o,j,b,m)){case l:t="Combate";break;case i:t="Durabilidad";break;case o:t="Inteligencia";break;case j:t="Poder";break;case b:t="Velocidad";break;case m:t="Fuerza";break;default:t="Desconocido"}return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-dark dropdown-toggle statsBtn","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Estadisticas"}),Object(h.jsxs)("div",{className:"dropdown-menu statsDropdown",children:[Object(h.jsx)("div",{className:"clearfix",children:Object(h.jsxs)("p",{className:"col teamType",children:[Object(h.jsx)("strong",{children:"Tipo de Equipo: "}),t]})}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("p",{className:"col",children:[Object(h.jsx)("strong",{children:"Peso promedio: "}),"".concat(Math.round(c/a.length)," kg")]}),Object(h.jsxs)("p",{className:"col",children:[Object(h.jsx)("strong",{children:"Altura promedio: "}),"".concat(Math.round(n/a.length)," cm")]})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("p",{className:"col",children:[Object(h.jsx)("strong",{children:"Combate: "}),l]}),Object(h.jsxs)("p",{className:"col",children:[Object(h.jsx)("strong",{children:"Durabilidad: "}),i]})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("p",{className:"col",children:[Object(h.jsx)("strong",{children:"Inteligencia: "}),o]}),Object(h.jsxs)("p",{className:"col",children:[Object(h.jsx)("strong",{children:"Poder: "}),j]})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("p",{className:"col",children:[Object(h.jsx)("strong",{children:"Velocidad: "}),b]}),Object(h.jsxs)("p",{className:"col",children:[Object(h.jsx)("strong",{children:"Fuerza: "}),m]})]})]})]})}),k=(a(73),function(e){var t=e.hero,a=function(e){return"null"!==e?e:"No Disponible"};return Object(h.jsxs)("ul",{className:"dropdown-menu powerStatDropdown",children:[Object(h.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.combat,"%")},"aria-valuenow":t.powerstats.combat,"aria-valuemin":"0","aria-valuemax":"100",children:Object(h.jsxs)("li",{className:"powerstat",children:[Object(h.jsx)("strong",{children:"Combate: "}),a(t.powerstats.combat)]})}),Object(h.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.durability,"%")},"aria-valuenow":t.powerstats.durability,"aria-valuemin":"0","aria-valuemax":"100",children:Object(h.jsxs)("li",{className:"powerstat",children:[Object(h.jsx)("strong",{children:"Durabilidad: "}),a(t.powerstats.durability)]})}),Object(h.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.intelligence,"%")},"aria-valuenow":t.powerstats.intelligence,"aria-valuemin":"0","aria-valuemax":"100",children:Object(h.jsxs)("li",{className:"powerstat",children:[Object(h.jsx)("strong",{children:"Inteligencia: "}),a(t.powerstats.intelligence)]})}),Object(h.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.power,"%")},"aria-valuenow":t.powerstats.power,"aria-valuemin":"0","aria-valuemax":"100",children:Object(h.jsxs)("li",{className:"powerstat",children:[Object(h.jsx)("strong",{children:"Poder: "}),a(t.powerstats.power)]})}),Object(h.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.speed,"%")},"aria-valuenow":t.powerstats.speed,"aria-valuemin":"0","aria-valuemax":"100",children:Object(h.jsxs)("li",{className:"powerstat",children:[Object(h.jsx)("strong",{children:"Velocidad: "}),a(t.powerstats.speed)]})}),Object(h.jsx)("div",{className:"progress-bar ",role:"progressbar",style:{width:"".concat(t.powerstats.strength,"%")},"aria-valuenow":t.powerstats.strength,"aria-valuemin":"0","aria-valuemax":"100",children:Object(h.jsxs)("li",{className:"powerstat",children:[Object(h.jsx)("strong",{children:"Fuerza: "}),a(t.powerstats.strength)]})})]})}),S=(a(74),function(e){var t=e.team,a=e.setTeam;return Object(h.jsx)("div",{id:"team",children:t&&t.length?t.map((function(e){return Object(h.jsxs)("div",{className:"teamMember",children:[Object(h.jsx)("div",{className:"heroNameContainer",children:Object(h.jsx)("h1",{className:"heroName",children:e.name})}),Object(h.jsx)("img",{src:e.image.url,alt:e.name,draggable:!1,className:"teamMemberImg"}),Object(h.jsxs)("div",{className:"buttons btn-group dropdown dropup",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-dark dropdown-toggle btnTeam","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Powerstats"}),Object(h.jsx)(k,{hero:e}),Object(h.jsx)(O.b,{to:"challenge-react/".concat(e.id),children:Object(h.jsx)("button",{className:"btn btn-dark btnTeam",children:"Detalles"})}),Object(h.jsx)("button",{className:"btn btn-dark btnTeam",onClick:function(){return function(e){var s=t.filter((function(t){return t.id!==e}));a(s),localStorage.setItem("team",JSON.stringify(s))}(e.id)},children:"Eliminar"})]})]},"team".concat(e.id))})):Object(h.jsx)("h1",{id:"noTeam",children:"Agrega h\xe9roes a tu equipo!"})})}),y=(a(75),function(){var e=localStorage.getItem("token"),t=Object(s.useState)(JSON.parse(localStorage.getItem("team"))),a=Object(d.a)(t,2),r=a[0],c=a[1];return sessionStorage.removeItem("recentSearch"),e?Object(h.jsxs)("div",{children:[Object(h.jsx)(x,{}),Object(h.jsxs)("div",{"data-testid":"home",id:"home",children:[Object(h.jsxs)("div",{id:"header",children:[Object(h.jsxs)("div",{id:"titleContainer",children:[Object(h.jsx)("h1",{id:"teamTitle",children:"Tu equipo"}),r&&r.length>0?Object(h.jsx)(w,{team:r}):null]}),null===r||r&&6!==r.length?Object(h.jsx)(O.b,{to:"/search",children:Object(h.jsx)("button",{className:"btn addHero",children:"Agregar Hero"})}):null]}),Object(h.jsx)(S,{team:r,setTeam:c})]})]}):Object(h.jsx)(m.a,{to:"/login"})}),I=(a(76),function(e){var t=e.match,a=Object(m.g)(),r=localStorage.getItem("token"),c=Object(s.useState)([]),n=Object(d.a)(c,2),l=n[0],j=n[1];Object(s.useEffect)((function(){u()}),[]);var u=function(){var e=Object(o.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://www.superheroapi.com/api.php/4333347540058740/".concat(t.params.id));case 2:a=e.sent,j(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r?Object(h.jsxs)("div",{children:[Object(h.jsx)(x,{}),"success"===l.response?Object(h.jsxs)("div",{id:"detailsCard",children:[Object(h.jsx)("img",{src:l.image.url,alt:l.name,id:"detailsImg",draggable:!1}),Object(h.jsxs)("div",{id:"details",children:[Object(h.jsx)("h1",{id:"heroTitle",children:l.name}),Object(h.jsx)("hr",{}),Object(h.jsxs)("p",{className:"info",children:[Object(h.jsx)("strong",{children:"Peso:"})," ",l.appearance.weight[1]]}),Object(h.jsxs)("p",{className:"info",children:[Object(h.jsx)("strong",{children:"Altura:"})," ",l.appearance.height[1]]}),Object(h.jsxs)("p",{className:"info",children:[Object(h.jsx)("strong",{children:"Nombre completo:"})," ",l.biography["full-name"]]}),Object(h.jsxs)("p",{className:"info",children:[Object(h.jsx)("strong",{children:"Alias:"})," ",l.biography.aliases.join(", ")]}),Object(h.jsxs)("p",{className:"info",children:[Object(h.jsx)("strong",{children:"Color de ojos:"})," ",l.appearance["eye-color"]]}),Object(h.jsxs)("p",{className:"info",children:[Object(h.jsx)("strong",{children:"Color de pelo:"})," ",l.appearance["hair-color"]]}),Object(h.jsxs)("p",{className:"info",children:[Object(h.jsx)("strong",{children:"Lugar de trabajo:"})," ",l.work.base]})]})]},"details".concat(l.id)):Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsx)("div",{className:"spinner-border",role:"status",children:Object(h.jsx)("span",{className:"sr-only"})})}),Object(h.jsx)("button",{className:"btn btn-dark back",onClick:function(){return a.goBack()},children:"Regresar"})]}):Object(h.jsx)(m.a,{to:"/login"})});a(77);var C=function(){return Object(h.jsx)("div",{className:"app",children:Object(h.jsx)(O.a,{children:Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{exact:!0,path:"/login",component:p}),Object(h.jsx)(m.b,{exact:!0,path:"/challenge-react",component:y}),Object(h.jsx)(m.b,{exact:!0,path:"/search",component:N}),Object(h.jsx)(m.b,{path:"/search/:id",component:I}),Object(h.jsx)(m.b,{path:"/challenge-react/:id",component:I})]})})})};n.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(C,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.0bc54a0f.chunk.js.map