(this["webpackJsonpchallange-react"]=this["webpackJsonpchallange-react"]||[]).push([[0],{69:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),c=a(22),n=a.n(c),l=a(7),i=a(26),o="ADD_HERO",d="REMOVE_HERO",j={heroTeam:[]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,a=t.type,s=t.payload;switch(a){case o:return{heroTeam:e.heroTeam.concat(s)};case d:return{heroTeam:e.heroTeam.filter((function(e){return e.id!==s.id}))};default:return e}},h="UPDATE_RECENT_SEARCH",u={recentSearch:[]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,a=t.type,s=t.payload;switch(a){case h:return{recentSearch:s};default:return e}},p=Object(i.a)({hero:b,search:m}),O=Object(i.b)(p),x=(a(49),a(14)),g=a.n(x),f=a(20),v=a(13),N=a(21),w=a.n(N),k=a(3),y=a(16),S=(a(69),a(0)),C=function(){var e=Object(s.useState)(!1),t=Object(v.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(!1),n=Object(v.a)(c,2),l=n[0],i=n[1];if(localStorage.getItem("token"))return Object(S.jsx)(k.a,{to:"/challenge-react"});var o=function(){var e=Object(f.a)(g.a.mark((function e(t){var a,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.post("http://challenge-react.alkemy.org/",t);case 3:a=e.sent,s=a.data.token,localStorage.setItem("token",s),i(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r(!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t;return e?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)||(t="Email invalido"):t="Requerido",t},j=function(e){var t;return e||(t="Requerido"),t};return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{id:"form",children:[Object(S.jsx)("h1",{className:"title",children:"SuperHero App"}),Object(S.jsx)(y.c,{initialValues:{email:"",password:""},onSubmit:function(e){o(e)},children:function(e){var t=e.errors,a=e.touched;return Object(S.jsxs)(y.b,{children:[Object(S.jsxs)("div",{className:"mb-3",children:[Object(S.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(S.jsx)(y.a,{name:"email",type:"email",className:"form-control",id:"email",validate:d}),t.email&&a.email?Object(S.jsx)("div",{children:t.email}):null]}),Object(S.jsxs)("div",{className:"mb-3",children:[Object(S.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(S.jsx)(y.a,{name:"password",type:"password",className:"form-control",id:"password",validate:j}),t.password&&a.password?Object(S.jsx)("div",{children:t.password}):null]}),Object(S.jsx)("button",{type:"submit",className:"btn btn-dark",children:"Enviar"})]})}})]}),a&&Object(S.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:["Email o contrase\xf1a incorrectos.",Object(S.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:function(){return r(!1)}})]}),l&&Object(S.jsx)(k.a,{to:"/challenge-react"}),Object(S.jsx)("button",{className:"btn btn-dark loginAsGuest",onClick:function(){return localStorage.setItem("token","guest"),void i(!0)},children:"Ingresar como invitado"})]})},I=a(5),T=(a(72),function(){return Object(S.jsx)("nav",{className:"navbar",children:Object(S.jsxs)("div",{className:"container-fluid nav",children:[Object(S.jsx)(I.b,{to:"/challenge-react",children:Object(S.jsx)("h1",{id:"title",children:"SuperHero App"})}),Object(S.jsx)(I.b,{to:"/login",children:Object(S.jsx)("button",{className:"btn btn-dark salir",onClick:function(){localStorage.removeItem("token")},children:"Cerrar sesi\xf3n"})})]})})}),A=function(e){var t=e.recentSearch,a=e.validateAddedHero,s=e.setIsLoading;return Object(S.jsx)("div",{className:"searchResults",children:t&&t.length?t.map((function(e){return Object(S.jsxs)("div",{className:"teamMember",children:[Object(S.jsx)("div",{className:"heroNameContainer",children:Object(S.jsx)("h1",{className:"heroName",children:e.name})}),Object(S.jsx)("img",{src:e.image.url,alt:e.name,draggable:!1,onLoad:function(){return s(!1)},className:"teamMemberImg"}),Object(S.jsxs)("div",{className:"buttons",children:[Object(S.jsx)(I.b,{to:"/search/".concat(e.id),children:Object(S.jsx)("button",{className:"btn btn-dark btnTeam",children:"Detalles"})}),Object(S.jsx)("button",{className:"btn btn-dark btnTeam",onClick:function(){return a(e)},children:"Agregar"})]})]},"team".concat(e.id))})):null})},E=function(e){return{type:h,payload:e}},D=function(e,t){return!e.some((function(e){return e.id===t.id}))},H=function(e,t){var a=t.biography.alignment;return"neutral"!==a&&!(e.filter((function(e){return e.biography.alignment===a})).length>=3)},M=(a(73),function(){var e=Object(k.g)(),t=Object(l.c)((function(e){return e.hero.heroTeam})),a=Object(l.c)((function(e){return e.search.recentSearch})),r=Object(l.b)(),c=Object(s.useState)(!1),n=Object(v.a)(c,2),i=n[0],d=n[1],j=Object(s.useState)(""),b=Object(v.a)(j,2),h=b[0],u=b[1],m=Object(s.useState)(!1),p=Object(v.a)(m,2),O=p[0],x=p[1];if(t&&6===t.length)return Object(S.jsx)(k.a,{to:"/challenge-react"});var N=function(){var e=Object(f.a)(g.a.mark((function e(t){var a,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return r(E([])),x(!0),e.next=5,w.a.get("https://www.superheroapi.com/api.php/4333347540058740/search/".concat(t));case 5:(a=e.sent).data.results?(s=a.data.results,r(E(s)),u("")):(x(!1),u("No encontrado"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)("div",{children:[Object(S.jsx)(T,{}),Object(S.jsx)("button",{className:"btn btn-dark backToTeam",onClick:function(){return e.goBack()},children:"Volver a equipo"}),Object(S.jsx)(y.c,{initialValues:{search:""},onSubmit:function(e){N(e.search)},children:Object(S.jsxs)(y.b,{className:"row g-3 align-items-center searchContainer",children:[Object(S.jsx)("div",{className:"col-auto",children:Object(S.jsx)("label",{htmlFor:"search",className:"form-label addSuperHero",children:"Agregar SuperHero"})}),Object(S.jsx)("div",{className:"col-auto",children:Object(S.jsx)(y.a,{name:"search",type:"text",className:"form-control"})}),Object(S.jsx)("div",{className:"col-auto",children:Object(S.jsx)("button",{type:"submit",className:"btn btn-dark",children:"Buscar"})})]})}),Object(S.jsx)(A,{recentSearch:a,validateAddedHero:function(e){h&&u(""),H(t,e)||u("No pod\xe9s elegir m\xe1s de tres h\xe9roes de la misma alineaci\xf3n."),D(t,e)||u("No pod\xe9s elegir el mismo h\xe9roe m\xe1s de una vez."),D(t,e)&&H(t,e)?(d(!0),r(function(e){return{type:o,payload:e}}(e))):d(!1)},setIsLoading:x}),O&&Object(S.jsx)("div",{className:"d-flex justify-content-center",children:Object(S.jsx)("div",{className:"spinner-border",role:"status",children:Object(S.jsx)("span",{className:"sr-only"})})}),h&&Object(S.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show alertSearch",onClick:function(){return u(!1)},role:"alert",children:[h,Object(S.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:function(){return u("")}})]}),i&&Object(S.jsxs)("div",{className:"alert alert-success alert-dismissible fade show alertSearch",onClick:function(){return d(!1)},role:"alert",children:["Agregado al equipo.",Object(S.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:function(){return d(!1)}})]})]})}),R=(a(74),function(){var e,t=Object(l.c)((function(e){return e.hero.heroTeam})),a=Array(8).fill(0),s=Object(v.a)(a,8),r=s[0],c=s[1],n=s[2],i=s[3],o=s[4],d=s[5],j=s[6],b=s[7],h=function(e){return isNaN(e)?0:e};switch(t.forEach((function(e){r+=h(parseInt(e.appearance.weight[1])),c+=h(parseInt(e.appearance.height[1])),n+=h(parseInt(e.powerstats.combat)),i+=h(parseInt(e.powerstats.durability)),o+=h(parseInt(e.powerstats.intelligence)),d+=h(parseInt(e.powerstats.power)),j+=h(parseInt(e.powerstats.speed)),b+=h(parseInt(e.powerstats.strength))})),Math.max(n,i,o,d,j,b)){case n:e="Combate";break;case i:e="Durabilidad";break;case o:e="Inteligencia";break;case d:e="Poder";break;case j:e="Velocidad";break;case b:e="Fuerza";break;default:e="Desconocido"}return Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("button",{type:"button",className:"btn btn-dark dropdown-toggle statsBtn","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Estadisticas"}),Object(S.jsxs)("div",{className:"dropdown-menu statsDropdown",children:[Object(S.jsx)("div",{className:"clearfix",children:Object(S.jsxs)("p",{className:"col teamType",children:[Object(S.jsx)("strong",{children:"Tipo de Equipo: "}),e]})}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsxs)("p",{className:"col",children:[Object(S.jsx)("strong",{children:"Peso promedio: "}),"".concat(Math.round(r/t.length)," kg")]}),Object(S.jsxs)("p",{className:"col",children:[Object(S.jsx)("strong",{children:"Altura promedio: "}),"".concat(Math.round(c/t.length)," cm")]})]}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsxs)("p",{className:"col",children:[Object(S.jsx)("strong",{children:"Combate: "}),n]}),Object(S.jsxs)("p",{className:"col",children:[Object(S.jsx)("strong",{children:"Durabilidad: "}),i]})]}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsxs)("p",{className:"col",children:[Object(S.jsx)("strong",{children:"Inteligencia: "}),o]}),Object(S.jsxs)("p",{className:"col",children:[Object(S.jsx)("strong",{children:"Poder: "}),d]})]}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsxs)("p",{className:"col",children:[Object(S.jsx)("strong",{children:"Velocidad: "}),j]}),Object(S.jsxs)("p",{className:"col",children:[Object(S.jsx)("strong",{children:"Fuerza: "}),b]})]})]})]})}),P=(a(75),function(e){var t=e.hero,a=function(e){return"null"!==e?e:"No Disponible"};return Object(S.jsxs)("ul",{className:"dropdown-menu powerStatDropdown",children:[Object(S.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.combat,"%")},"aria-valuenow":t.powerstats.combat,"aria-valuemin":"0","aria-valuemax":"100",children:Object(S.jsxs)("li",{className:"powerstat",children:[Object(S.jsx)("strong",{children:"Combate: "}),a(t.powerstats.combat)]})}),Object(S.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.durability,"%")},"aria-valuenow":t.powerstats.durability,"aria-valuemin":"0","aria-valuemax":"100",children:Object(S.jsxs)("li",{className:"powerstat",children:[Object(S.jsx)("strong",{children:"Durabilidad: "}),a(t.powerstats.durability)]})}),Object(S.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.intelligence,"%")},"aria-valuenow":t.powerstats.intelligence,"aria-valuemin":"0","aria-valuemax":"100",children:Object(S.jsxs)("li",{className:"powerstat",children:[Object(S.jsx)("strong",{children:"Inteligencia: "}),a(t.powerstats.intelligence)]})}),Object(S.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.power,"%")},"aria-valuenow":t.powerstats.power,"aria-valuemin":"0","aria-valuemax":"100",children:Object(S.jsxs)("li",{className:"powerstat",children:[Object(S.jsx)("strong",{children:"Poder: "}),a(t.powerstats.power)]})}),Object(S.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.powerstats.speed,"%")},"aria-valuenow":t.powerstats.speed,"aria-valuemin":"0","aria-valuemax":"100",children:Object(S.jsxs)("li",{className:"powerstat",children:[Object(S.jsx)("strong",{children:"Velocidad: "}),a(t.powerstats.speed)]})}),Object(S.jsx)("div",{className:"progress-bar ",role:"progressbar",style:{width:"".concat(t.powerstats.strength,"%")},"aria-valuenow":t.powerstats.strength,"aria-valuemin":"0","aria-valuemax":"100",children:Object(S.jsxs)("li",{className:"powerstat",children:[Object(S.jsx)("strong",{children:"Fuerza: "}),a(t.powerstats.strength)]})})]})}),q=(a(76),function(){var e=Object(l.c)((function(e){return e.hero.heroTeam})),t=Object(l.b)();return Object(S.jsx)("div",{id:"team",children:e&&e.length?e.map((function(e){return Object(S.jsxs)("div",{className:"teamMember",children:[Object(S.jsx)("div",{className:"heroNameContainer",children:Object(S.jsx)("h1",{className:"heroName",children:e.name})}),Object(S.jsx)("img",{src:e.image.url,alt:e.name,draggable:!1,className:"teamMemberImg"}),Object(S.jsxs)("div",{className:"buttons btn-group dropdown dropup",children:[Object(S.jsx)("button",{type:"button",className:"btn btn-dark dropdown-toggle btnTeam","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Powerstats"}),Object(S.jsx)(P,{hero:e}),Object(S.jsx)(I.b,{to:"challenge-react/".concat(e.id),children:Object(S.jsx)("button",{className:"btn btn-dark btnTeam",children:"Detalles"})}),Object(S.jsx)("button",{className:"btn btn-dark btnTeam",onClick:function(){return t(function(e){return{type:d,payload:e}}(e))},children:"Eliminar"})]})]},"team".concat(e.id))})):Object(S.jsx)("h1",{id:"noTeam",children:"Agrega h\xe9roes a tu equipo!"})})}),V=(a(77),function(){var e=Object(l.c)((function(e){return e.hero.heroTeam})),t=Object(l.b)();return Object(s.useEffect)((function(){t(E([]))}),[t]),Object(S.jsxs)("div",{children:[Object(S.jsx)(T,{}),Object(S.jsxs)("div",{"data-testid":"home",id:"home",children:[Object(S.jsxs)("div",{id:"header",children:[Object(S.jsxs)("div",{id:"titleContainer",children:[Object(S.jsx)("h1",{id:"teamTitle",children:"Tu equipo"}),e&&e.length>0?Object(S.jsx)(R,{}):null]}),null===e||e&&6!==e.length?Object(S.jsx)(I.b,{to:"/search",children:Object(S.jsx)("button",{className:"btn addHero",children:"Agregar Hero"})}):null]}),Object(S.jsx)(q,{})]})]})}),F=(a(78),function(e){var t=e.match,a=Object(k.g)(),r=localStorage.getItem("token"),c=Object(s.useState)([]),n=Object(v.a)(c,2),l=n[0],i=n[1];Object(s.useEffect)((function(){o()}),[]);var o=function(){var e=Object(f.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://www.superheroapi.com/api.php/4333347540058740/".concat(t.params.id));case 2:a=e.sent,i(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r?Object(S.jsxs)("div",{children:[Object(S.jsx)(T,{}),"success"===l.response?Object(S.jsxs)("div",{id:"detailsCard",children:[Object(S.jsx)("img",{src:l.image.url,alt:l.name,id:"detailsImg",draggable:!1}),Object(S.jsxs)("div",{id:"details",children:[Object(S.jsx)("h1",{id:"heroTitle",children:l.name}),Object(S.jsx)("hr",{}),Object(S.jsxs)("p",{className:"info",children:[Object(S.jsx)("strong",{children:"Peso:"})," ",l.appearance.weight[1]]}),Object(S.jsxs)("p",{className:"info",children:[Object(S.jsx)("strong",{children:"Altura:"})," ",l.appearance.height[1]]}),Object(S.jsxs)("p",{className:"info",children:[Object(S.jsx)("strong",{children:"Nombre completo:"})," ",l.biography["full-name"]]}),Object(S.jsxs)("p",{className:"info",children:[Object(S.jsx)("strong",{children:"Alias:"})," ",l.biography.aliases.join(", ")]}),Object(S.jsxs)("p",{className:"info",children:[Object(S.jsx)("strong",{children:"Color de ojos:"})," ",l.appearance["eye-color"]]}),Object(S.jsxs)("p",{className:"info",children:[Object(S.jsx)("strong",{children:"Color de pelo:"})," ",l.appearance["hair-color"]]}),Object(S.jsxs)("p",{className:"info",children:[Object(S.jsx)("strong",{children:"Lugar de trabajo:"})," ",l.work.base]})]})]},"details".concat(l.id)):Object(S.jsx)("div",{className:"d-flex justify-content-center",children:Object(S.jsx)("div",{className:"spinner-border",role:"status",children:Object(S.jsx)("span",{className:"sr-only"})})}),Object(S.jsx)("button",{className:"btn btn-dark back",onClick:function(){return a.goBack()},children:"Regresar"})]}):Object(S.jsx)(k.a,{to:"/login"})}),B=function(e){var t=e.path,a=e.exact,s=e.component;return localStorage.getItem("token")?Object(S.jsx)(k.b,{path:t,exact:a,component:s}):Object(S.jsx)(k.a,{to:"/login"})};a(79);var _=function(){return Object(S.jsx)("div",{className:"app",children:Object(S.jsx)(I.a,{children:Object(S.jsxs)(k.d,{children:[Object(S.jsx)(k.b,{exact:!0,path:"/login",component:C}),Object(S.jsx)(B,{path:"/challenge-react",exact:!0,component:V}),Object(S.jsx)(B,{path:"/search",exact:!0,component:M}),Object(S.jsx)(B,{path:"/search/:id",component:F}),Object(S.jsx)(B,{path:"/challenge-react/:id",component:F})]})})})};n.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(l.a,{store:O,children:Object(S.jsx)(_,{})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.2386d733.chunk.js.map